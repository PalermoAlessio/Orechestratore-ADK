# ğŸ¯ Piano Semplice: v1.3 A2A â†’ v2.0 Single-Agent Minimal

> **Obiettivo**: Tornare ad un singolo agente ADK pulito con MCP filesystem funzionante
> **Filosofia**: Start Simple, Iterate Fast
> **Branch**: `foreman-v2.0-single-agent`

---

## ğŸ“Š Situazione Attuale vs Target SEMPLICE

### ğŸ—ï¸ **Struttura Attuale (v1.3 A2A) - Cosa c'Ã¨**
```
Orechestratore-ADK/
â”œâ”€â”€ README.md                 # A2A focus
â”œâ”€â”€ main.py                   # âœ… MANTIENI (con piccole modifiche)
â”œâ”€â”€ orchestrator.py           # ğŸ”„ SEMPLIFICA (rimuovi A2A, mantieni MCP)
â”œâ”€â”€ a2a_calendar_tool.py      # âŒ ELIMINA (A2A client)
â”œâ”€â”€ calendar_agent/           # âŒ ELIMINA (intero sistema A2A)
â”œâ”€â”€ custom_tools.py           # âŒ ELIMINA (deprecated)
â”œâ”€â”€ requirements.txt          # ğŸ”„ PULISCI (rimuovi dipendenze A2A)
â”œâ”€â”€ Documentazione/           # âœ… MANTIENI
â””â”€â”€ .gitignore               # âœ… MANTIENI
```

### ğŸ¯ **Target v2.0 SEMPLICE - Struttura Flat**
```
foreman-v2/
â”œâ”€â”€ README.md                 # Single-agent focus
â”œâ”€â”€ main.py                   # Entry point (minimal changes)
â”œâ”€â”€ orchestrator.py           # SOLO: GoogleSearch + MCP Filesystem
â”œâ”€â”€ requirements.txt          # MCP dependencies only
â”œâ”€â”€ .env.example             # Environment template
â”œâ”€â”€ Documentazione/           # Mantenuta
â””â”€â”€ .gitignore               # Updated per rimuovere calendar_agent/
```

**Totale**: 6 file principali. Semplice e pulito! âœ¨

---

## ğŸ—ºï¸ Piano di Lavoro SEMPLIFICATO

### **ğŸ“‹ FASE 1: Pulizia (15 min)**

#### **Step 1.1: Elimina Componenti A2A**
```bash
# File/directory da ELIMINARE:
rm -rf calendar_agent/           # Sistema A2A completo
rm a2a_calendar_tool.py          # Client A2A
rm custom_tools.py               # Legacy wrapper
```

#### **Step 1.2: Update .gitignore**
```bash
# Rimuovi riferimenti a file eliminati
# calendar_agent/ non esiste piÃ¹
# *.keys.json â†’ sposta in calendar_agent/ (che non c'Ã¨ piÃ¹)
```

**Risultato Fase 1**: Repository pulito, solo file essenziali

### **ğŸ“ FASE 2: Semplifica Orchestratore (30 min)**

#### **Step 2.1: orchestrator.py - Focus Single Agent**

**COSA RIMUOVERE**:
- âŒ Import A2A: `from a2a_calendar_tool import a2a_calendar_check`
- âŒ A2A tool: `a2a_calendar_check` dalla lista tools
- âŒ Riferimenti A2A nei prompt
- âŒ Log A2A nel print di inizializzazione

**COSA MANTENERE**:
- âœ… GoogleSearch via AgentTool (funziona!)
- âœ… MCP Filesystem (funziona!)
- âœ… Prompt engineering base
- âœ… Configurazione MCP robusta

**Prompt Semplificato**:
```
Sei Foreman v2.0 Single-Agent, assistente AI con due capacitÃ  principali:

ğŸŒ RICERCA WEB (GoogleSearchAgent):
- Notizie, informazioni aggiornate, persone famose, etc.

ğŸ“ FILESYSTEM (MCP):
- Crea, leggi, modifica file nella directory ~/foreman_workspace/

Scegli automaticamente lo strumento giusto in base alla richiesta.
```

#### **Step 2.2: Aggiorna Print di Inizializzazione**
```python
print(f"ğŸ¯ Foreman v2.0 Single-Agent - Architettura Semplificata")
print(f"ğŸŒ GoogleSearch: âœ… ATTIVATO")
print(f"ğŸ“ MCP Filesystem: âœ… ATTIVATO")
print(f"ğŸ“ Workspace: {work_directory}")
print(f"âœ¨ Ready for single-agent workflows!")
```

### **ğŸ“¦ FASE 3: Dipendenze (10 min)**

#### **Step 3.1: requirements.txt Pulito**
```txt
# Foreman v2.0 Single-Agent - Dependencies Minimal
google-adk>=1.1.0,<1.3.0
python-dotenv>=1.0.0
mcp>=1.10.0,<2.0.0
httpx>=0.25.0
anyio>=4.0.0
```

**RIMOSSO**:
- âŒ uvicorn (FastAPI A2A server)
- âŒ fastapi (A2A protocol)
- âŒ Altre dipendenze A2A specifiche

### **ğŸ“š FASE 4: Documentazione Minimal (15 min)**

#### **Step 4.1: README.md Semplice**
```markdown
# ğŸ¤– Foreman v2.0 Single-Agent

> Single ADK Agent with GoogleSearch + MCP Filesystem
>
> [ğŸ”„ Looking for v1.3 A2A Multi-Agent? Switch to `main` branch]

## Quick Start
1. `python main.py`
2. "Cerca informazioni su Python" (GoogleSearch)
3. "Crea file test.txt" (MCP Filesystem)

## Features
- âœ… GoogleSearch via AgentTool
- âœ… MCP Filesystem operations
- âœ… Simple terminal interface
```

#### **Step 4.2: .env.example**
```bash
# Google Gemini API (REQUIRED)
GOOGLE_API_KEY=your_gemini_api_key_here
GOOGLE_GENAI_USE_VERTEXAI=FALSE
```

### **ğŸ§ª FASE 5: Test di Funzionamento (10 min)**

#### **Step 5.1: Smoke Test**
```bash
python main.py

# Test GoogleSearch
> "Chi Ã¨ l'attuale papa?"

# Test MCP Filesystem
> "Crea un file hello.txt con contenuto Ciao mondo"
> "Leggi il contenuto del file hello.txt"
```

**Criteri di Successo**:
- âœ… Applicazione si avvia senza errori
- âœ… GoogleSearch funziona
- âœ… MCP Filesystem crea/legge file
- âœ… Nessun riferimento A2A/Calendar

---

## ğŸ¯ File-by-File Action Plan

### âŒ **ELIMINA (3 file)**
| File | Motivo | Comando |
|------|--------|---------|
| `calendar_agent/` | Sistema A2A completo | `rm -rf calendar_agent/` |
| `a2a_calendar_tool.py` | Client A2A | `rm a2a_calendar_tool.py` |
| `custom_tools.py` | Legacy deprecated | `rm custom_tools.py` |

### ğŸ”„ **MODIFICA (3 file)**
| File | Modifica | ComplessitÃ  |
|------|----------|-------------|
| `orchestrator.py` | Rimuovi A2A, mantieni GoogleSearch+MCP | ğŸŸ¡ Media |
| `requirements.txt` | Rimuovi dipendenze A2A | ğŸŸ¢ Bassa |
| `README.md` | Riscrivi per Single-Agent | ğŸŸ¢ Bassa |

### âœ… **MANTIENI (2 file)**
| File | Motivo | Action |
|------|--------|--------|
| `main.py` | Funziona giÃ  bene | Nessuna modifica |
| `Documentazione/` | Storia del progetto | Nessuna modifica |

### ğŸ†• **CREA (1 file)**
| File | Contenuto | PrioritÃ  |
|------|-----------|----------|
| `.env.example` | Template environment | ğŸŸ¢ Bassa |

---

## âš¡ Risultato Finale

### **Architettura v2.0 Semplice**
```
Single ADK Agent "Foreman"
â”œâ”€â”€ GoogleSearchAgent (via AgentTool wrapper)
â”œâ”€â”€ MCP Filesystem Server (via MCPToolset)
â””â”€â”€ Terminal Interface

Comunicazione: Interna (nessun HTTP/A2A)
Processi: 2 (Foreman + MCP filesystem server via npm)
ComplessitÃ : Minimal âœ¨
```

### **Vantaggi vs v1.3 A2A**
- âœ… **PiÃ¹ semplice**: No server A2A, no processi multipli HTTP
- âœ… **PiÃ¹ veloce**: No network calls interni
- âœ… **PiÃ¹ affidabile**: Meno punti di failure
- âœ… **PiÃ¹ facile debug**: Un solo processo principale
- âœ… **Codebase pulito**: Zero complessitÃ  A2A

### **FunzionalitÃ  Mantenute**
- âœ… **GoogleSearch**: Ricerche web real-time
- âœ… **File Operations**: Crea, leggi, modifica file
- âœ… **Conversazione**: Multi-turno con memoria
- âœ… **Workspace**: Directory ~/foreman_workspace/

### **Cosa Perdiamo (Temporaneamente)**
- âŒ **Calendar integration**: Nessun accesso Google Calendar
- âŒ **A2A Protocol**: Nessuna comunicazione multi-agent
- âŒ **Distributed Architecture**: Back to single process

---

## ğŸ“… Timeline Realistica

| Fase | Durata | Rischio | Note |
|------|--------|---------|------|
| 1. Pulizia | 15 min | ğŸŸ¢ Basso | Solo eliminazioni |
| 2. Orchestratore | 30 min | ğŸŸ¡ Medio | Rimuovi A2A imports/calls |
| 3. Dipendenze | 10 min | ğŸŸ¢ Basso | Edit requirements.txt |
| 4. Documentazione | 15 min | ğŸŸ¢ Basso | README + .env.example |
| 5. Test | 10 min | ğŸŸ¡ Medio | Verifica tutto funziona |

**Totale**: ~80 minuti per transizione completa

---

## âœ… Success Criteria

### **Funzionale**
- [ ] `python main.py` si avvia senza errori
- [ ] GoogleSearch risponde a "Chi Ã¨ l'attuale papa?"
- [ ] MCP crea file: "Crea file test.txt con contenuto hello"
- [ ] MCP legge file: "Leggi il contenuto del file test.txt"

### **Code Quality**
- [ ] Zero import A2A nel codice
- [ ] Zero riferimenti calendar_agent/
- [ ] Dependencies minime e pulite
- [ ] README aggiornato per v2.0

### **Portfolio**
- [ ] Branch `main` preserva v1.3 A2A
- [ ] Branch `foreman-v2.0-single-agent` ha v2.0 Single-Agent
- [ ] Cross-reference tra le versioni nella documentazione

---

## ğŸš€ Next Steps (Post-Migration)

Una volta che v2.0 Single-Agent funziona:

1. **Refinement**: Migliora prompt engineering per tool selection
2. **MCP Expansion**: Aggiungi server MCP Calendar (senza A2A)
3. **Interface**: Eventuale Telegram bot integration
4. **Testing**: Unit test per ogni componente

Ma per ora: **Keep It Simple!** âœ¨
